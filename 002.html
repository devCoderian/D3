<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
     <svg width="500" height="500"></svg>
     <script>
        const sampleData = [100, 10, 30, 50, 10, 70, 200, 90];
        const sampleData2 = [10, 50, 20, 60, 30, 50, 250, 90];
        const svg = d3.select('svg');
        console.log(sampleData)
        sampleData.forEach((data, idx) => {
            svg.append('rect')
            .attr('id', `bar${idx}`) //개별 속성을 줄 때 인덱스를 할당한다.
            .attr('height', data)
            .attr('width', 20)
            .attr('x', 40 * idx) //막대 생성좌표 x 막대의 좌측 (margin값 10 포함)
            .attr('y', 300 - data) //막대 생성좌표 y 막대의 윗부분
            .transition()
            .duration(3000)
            .ease(d3.easeLinear)
            .style('fill', 'grey')
            .attr('height', sampleData2[idx])
            .attr('y', 300 - sampleData2[idx]);


            //개별 속성 control
            d3.select('#bar0')
                .transition()
                .duration(3000)
                .ease(d3.easeLinear)
                .style('fill', 'blue')
                .delay(3000);

            // svg.append('text')
            // .attr('x', 40 * idx + 5 )
            // .attr('y',  300 - data - 10)
            // .text(data) 
            // .style("font-size", "0.85em")
            // .style("color", "#222")            
        });
     </script>
</body>
</html>